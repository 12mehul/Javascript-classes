<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Document</title>
  </head>
  <body>
    <div class="w-full flex flex-col gap-3 items-center justify-center">
      <h2
        class="mt-3 flex items-center justify-center text-red-500 font-bold text-4xl"
      >
        User Select Checkbox Value
      </h2>
      <input
        type="text"
        class="w-[50%] mt-3 pl-3 p-2 border border-gray-500 rounded-md outline-none"
        id="inputVal"
        placeholder="Enter the value"
        onchange="changeAddValue()"
      />
      <table class="w-[50%] mt-3 border border-gray-500 rounded-md">
        <thead class="border-b border-gray-500 text-center">
          <th class="p-3">Checkbox</th>
          <th>Value</th>
          <th>Add</th>
          <th>Sub</th>
        </thead>
        <tbody>
          <tr class="border-b border-gray-500 text-center">
            <td>
              <input type="checkbox" id="firstTxt" data-id="1" />
            </td>
            <td>
              <input
                type="text"
                class="ml-3 pl-3 p-1 border border-gray-500 rounded-md outline-none"
                id="firstVal"
                value="0"
              />
            </td>
            <td>
              <button
                onclick="functionMath('first','1')"
                class="m-2 w-8 h-8 bg-white border-2 border-green-500 rounded-md text-lg font-semibold"
              >
                +
              </button>
            </td>
            <td>
              <button
                onclick="functionMath('first','-1')"
                class="m-2 w-8 h-8 bg-white border-2 border-red-500 rounded-md text-lg font-semibold"
              >
                -
              </button>
            </td>
          </tr>
          <tr class="border-b border-gray-500 text-center">
            <td>
              <input type="checkbox" id="secondTxt" data-id="2" />
            </td>
            <td>
              <input
                type="text"
                class="ml-3 pl-3 p-1 border border-gray-500 rounded-md outline-none"
                id="secondVal"
                value="0"
              />
            </td>
            <td>
              <button
                onclick="functionMath('second','1')"
                class="m-2 w-8 h-8 bg-white border-2 border-green-500 rounded-md text-lg font-semibold"
              >
                +
              </button>
            </td>
            <td>
              <button
                onclick="functionMath('second','-1')"
                class="m-2 w-8 h-8 bg-white border-2 border-red-500 rounded-md text-lg font-semibold"
              >
                -
              </button>
            </td>
          </tr>
          <tr class="border-b border-gray-500 text-center">
            <td>
              <input type="checkbox" id="thirdTxt" data-id="3" />
            </td>
            <td>
              <input
                type="text"
                class="ml-3 pl-3 p-1 border border-gray-500 rounded-md outline-none"
                id="thirdVal"
                value="0"
              />
            </td>
            <td>
              <button
                onclick="functionMath('third','1')"
                class="m-2 w-8 h-8 bg-white border-2 border-green-500 rounded-md text-lg font-semibold"
              >
                +
              </button>
            </td>
            <td>
              <button
                onclick="functionMath('third','-1')"
                class="m-2 w-8 h-8 bg-white border-2 border-red-500 rounded-md text-lg font-semibold"
              >
                -
              </button>
            </td>
          </tr>
          <tr class="border-b border-gray-500 text-center">
            <td>
              <input type="checkbox" id="fourthTxt" data-id="4" />
            </td>
            <td>
              <input
                type="text"
                class="ml-3 pl-3 p-1 border border-gray-500 rounded-md outline-none"
                id="fourthVal"
                value="0"
              />
            </td>
            <td>
              <button
                onclick="functionMath('fourth','1')"
                class="m-2 w-8 h-8 bg-white border-2 border-green-500 rounded-md text-lg font-semibold"
              >
                +
              </button>
            </td>
            <td>
              <button
                onclick="functionMath('fourth','-1')"
                class="m-2 w-8 h-8 bg-white border-2 border-red-500 rounded-md text-lg font-semibold"
              >
                -
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      let a = 0;
      let b = 0;
      let c = 0;
      let d = 0;

      function functionMath(value, sign) {
        switch (value) {
          case "first":
            if (sign == "1") {
              a++;
            } else {
              a--;
            }
            document.getElementById("firstVal").value = a;
            break;

          case "second":
            if (sign == "1") {
              b++;
            } else {
              b--;
            }
            document.getElementById("secondVal").value = b;
            break;

          case "third":
            if (sign == "1") {
              c++;
            } else {
              c--;
            }
            document.getElementById("thirdVal").value = c;
            break;

          case "fourth":
            if (sign == "1") {
              d++;
            } else {
              d--;
            }
            document.getElementById("fourthVal").value = d;
            break;
          default:
            break;
        }
      }

      function changeAddValue() {
        let inputVal = parseInt(document.getElementById("inputVal").value);
        let checkboxes = document.querySelectorAll("input[type = 'checkbox']");
        let allUnchecked = true;

        checkboxes.forEach((checkbox, index) => {
          if (checkbox.checked) {
            allUnchecked = false;
            switch (index) {
              case 0: // First checkbox
                a += inputVal;
                document.getElementById("firstVal").value = a;
                break;
              case 1: // Second checkbox
                b += inputVal;
                document.getElementById("secondVal").value = b;
                break;
              case 2: // Third checkbox
                c += inputVal;
                document.getElementById("thirdVal").value = c;
                break;
              case 3: // Fourth checkbox
                d += inputVal;
                document.getElementById("fourthVal").value = d;
                break;
              default:
                break;
            }
          }
        });

        // If all checkboxes are unchecked, update all values
        if (allUnchecked) {
          a += inputVal;
          b += inputVal;
          c += inputVal;
          d += inputVal;
          document.getElementById("firstVal").value = a;
          document.getElementById("secondVal").value = b;
          document.getElementById("thirdVal").value = c;
          document.getElementById("fourthVal").value = d;
        }
      }
    </script>
  </body>
</html>
